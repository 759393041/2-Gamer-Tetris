# Cell类 方格

背景板由许许多多的小格子组成，所以我们从由小到大开始设计。

## 全体类成员

```c++
class cell
{
public:

    cell() {}//构造函数
    cell(QPoint &, QPointF &, int _color = NO_COLOR);//重载构造函数，给方块的两个坐标和颜色赋值
    cell(const cell& c) { copy(c); }//拷贝构造
    //操作函数：
    cell& copy(const cell&);//方块拷贝
    cell& operator=(const cell& c) { return copy(c); }//方块拷贝，但是是重载操作符
    void set_color(int _color) { color = _color; }//设置方块的颜色
    QColor draw_cell_color() const;//根据类内的color 给颜色，所以不用参数
    int get_color() { return color; }
    QPointF& get_position() { return position_on_window; }
    QPoint& get_location() { return location_on_board; }
    //变量
private:
    QPointF position_on_window;//方块在窗口上的位置
    QPoint location_on_board;//方块在棋盘(格格)上的位置
    int color;//方块的颜色

};
```



## 成员变量

cell虽然是棋盘上的格子，但也是存在于窗口内的，所以需要两个坐标

一个用于记录方格的左上角的坐标，也就是**方格在窗口内的坐标**：

QPointF position_on_window；**(f是浮点数，窗口的坐标是小树的x和y)**

一个用于记录方格在棋盘中是哪一个格子的坐标

QPoint location_on_board；

还有一个是记录方格本身的颜色，颜色想要用宏替换的方法去存储颜色种类，利于后面用switch case给方格绘图染色用：

int color;

## 成员函数(属性 操作)

### copy()

就是单纯的把目标cell的三个私有变量传给

### draw_cell_color()

根据cell对象里的color，来决定返回什么颜色的QColor，用于染色

# Board类 背景

board由cell组成

## 全体类成员

```c++
class board
{
public:
    board(){}
    board(int, int, int, int);
    board(const board& bd) { copy(bd); }
    cell& get_a_cell(int, int) const;//创建背景
    void clear_board();//清空背景板
    void set_cell_color(cell &, int);//设定目标格子颜色
    int get_cell_color(cell &);//获得背景中目标格子的颜色
    bool is_full(int);//判断一行是否满了
    bool is_empty(int);//判断一行是否是空的
    bool is_something(int);//判断一行是否有东西
    void clear_row(int);//清空这一行
    void row_cut_paste(int from,int to);//把这行从from行整体移动到to行(所以类似于裁剪)
    const QPoint get_start_location(int, int, int);//获取在棋盘上开始的位置
    board& operator=(const board& bd) { return copy(bd); }
    ~board();
private:
    board& copy(const board&);
private:
    cell *board_space;//背景数组
    int board_h;//背景高度
    int board_w;//背景宽度
};

```

## 成员变量
