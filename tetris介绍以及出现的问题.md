# 游戏大厅  界面widgt

利用mysql服务器去记录登陆状态，打算游戏就设定在widgt里，而且要两列游戏，服务器实时播放两个人的游戏实况在同一个界面内



![image](https://user-images.githubusercontent.com/81805379/180161437-9812a9e5-238d-4b37-89dd-8120e831df5a.png)

![image](https://user-images.githubusercontent.com/81805379/180161668-1ebebd22-1a28-46d2-b82c-45916e023f82.png)

# 游戏分析

![image](https://user-images.githubusercontent.com/81805379/180215439-8d2cb486-aa01-4a3d-a46b-106a064f438a.png)

![image](https://user-images.githubusercontent.com/81805379/180594304-546c9ad6-2dc0-4fe3-957c-5dc71b42a4ea.png)

上面的UI是无法直接访问底层数据的，必须要经过中间这么一层一层的最后传输过去。

# 问：我为什么要写这么多类

答：选择模块化的设计思想，提高了代码的扩展性和维护能力，比如我想添加一个形状，我就再来一个形状的类，再一个，希望各个类之间不互相干扰。

# 功能总览

1. 图形放到棋盘上
2. 形状向下移动(自动)
3. 形状由键盘向左、右和下(加速)的移动
4. 形状的旋转
5. 棋盘上一行满，则消除
6. 计分，化作攻击子弹，由网络传输给另一名玩家
7. 被攻击玩家能否在5秒内通过消除等量子弹数的方块防御该次攻击
   1. 防御住 被攻击槽清零
   2. 没由防御住/防御住一部分，被攻击玩家的棋盘从下方随机长出被攻击子弹*行数的惩罚块

# 问:我为什么要先擦除颜色再移动

​	因为如果判定向一个方向移动，形状是会变化的，有的形状向Z S有变化形态，L和J由四种变化形态，如果每一个变化形态都写一个独立的变化判定方法，代码冗余且复用性不高。所以我们选择形状内所有方块全部判断，对方块的判断是下一个方向内是否有别的方块，以竖直形状的i举例，如果竖直的i下落，四个格子都要判断下面有没有其他颜色的格子来判断下面有没有其他方块，但如果不擦除颜色，竖直的i形状只有底部的下一个是真正的进行判断，其他方块的下一步都会碰到自己的颜色，所以先擦颜色，判断四个格子内的下一步是否与背景色相同，可以完全避免上述情况，等移动判定后，再恢复对应格子的颜色。

# 问：为什么开始游戏前要先要在next棋盘创建形状

因为主窗口是一直取得是下一个图形，没有下一个取不了，你不给它它没法走了 函数逻辑。

# 问：如何实现旋转的

![image](https://user-images.githubusercontent.com/81805379/180642703-5255801a-8379-40b4-8b04-cde091e11b0a.png)

每一个方块均以
